<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exercice 1 (20 Put_voitures_saisie.html)_Class:</title>
  <link rel="stylesheet" href="" />


  <style>
    table,
    th,
    td {
      border: 1px solid black;
    }
  </style>
</head>

<body>
  <input id="saisieCode" type="text" placeholder="Saisir un code">
  <input id="saisieMarque" type="text" placeholder="Saisir une marque">
  <input id="saisieCouleur" type="text" placeholder="Saisir une couleur">
  <input id="saisieCylindree" type="text" placeholder="Saisir une cylindrée">
  <button id="btnGo">Modifier</button>

  <div id="reponse"></div>


  <!-- <script src="http://code.jquery.com/jquery.js"></script> -->
  <script src="./Js/init.js"></script>
  <script src="./js/Ajax_class.js"></script>
  <script>
    function RetourAjax(reponse) {
      alert("Voiture bien modifiée avec le code : " + code);

    }

    function Get_zones() {
      //Au format chaine de parametres
      // let resultat;
      // resultat = "marque=" + document.getElementById("saisieMarque").value;
      // resultat += "&couleur=" + document.getElementById("saisieCouleur").value;
      // resultat += "&cylindree=" + document.getElementById("saisieCylindree").value;
      // return resultat;

      // Au format JSON
      let obj = {};
      obj.marque = document.getElementById("saisieMarque").value;
      obj.couleur = document.getElementById("saisieCouleur").value;
      obj.cylindree = document.getElementById("saisieCylindree").value;
      return JSON.stringify(obj);
    }

    function Erreur_Ajax(reponse) {
      alert("Erreur Ajax ");

    }

    // Programme PRINCIPAL
    window.addEventListener('load', (event) => {
      let btn = document.getElementById("btnGo");

      btn.addEventListener("click", () => {
        code = document.getElementById("saisieCode").value;
        let params = Get_zones();
        let Ajax = new Ajax_Es6(urlApi + "/" + code);
        Ajax.put(params, RetourAjax, Erreur_Ajax);
      }, false);
    });
  </script>
</body>

</html>